import{c as w,u as N,j as a,bR as M,bS as _,bT as T,bs as i,bV as P,a2 as D,r as m,aR as I,bG as E,I as H,a5 as j,d as R,cP as A,aL as u,f as B,ap as L,X as O,aH as $,aI as z,aJ as J,bv as y,aW as V,J as q}from"./index.59694a49.js";import{b as G,r as K}from"./request.5780f103.js";import{T as U,a as W,b as f,c as n,d as X,e as t}from"./table.ca326b4a.js";import{P as Z}from"./pagination.ad8d74d6.js";import{b as F}from"./icons.58236968.js";import{S as Q}from"./scan-barcode.e6e4c60f.js";import{E as Y}from"./ellipsis-vertical.05a6dda3.js";import"./funnel.1dc762bc.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],ea=w("MonitorSmartphone",aa);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M4 10a7.31 7.31 0 0 0 10 10Z",key:"1fzpp3"}],["path",{d:"m9 15 3-3",key:"88sc13"}],["path",{d:"M17 13a6 6 0 0 0-6-6",key:"15cc6u"}],["path",{d:"M21 13A10 10 0 0 0 11 3",key:"11nf8s"}]],na=w("SatelliteDish",sa);function ta({title:s,children:h,pro:r}){const{t:d}=N();return a.jsx("div",{className:"admin-container",children:a.jsxs(M,{className:"admin-card",children:[a.jsx(_,{className:"select-none",children:a.jsxs(T,{className:"flex flex-row items-center",children:[d(`admin.${s}`),r&&a.jsx(i,{className:"ml-2",variant:"gold",children:"Pro"})]})}),a.jsx(P,{children:h})]})})}function pa(){const{t:s}=N(),{symbol:h}=D(),[r,d]=m.useState(!1),[p,g]=m.useState(0),[x,b]=m.useState(""),[l,k]=m.useState({status:!1,total:0,data:[]}),C=I();async function o(){d(!0);const e=await G(p,x);u(s,e),d(!1),e.status&&k(e)}async function v(e){const c=await K(e.order_id,e.service);u(s,c),c.status&&(q.info(c.is_changed?s("admin.pay.check-result-diff"):s("admin.pay.check-result-same"),{description:c.is_changed?s("admin.pay.check-result-diff-prompt"):s("admin.pay.check-result-same-prompt")}),c.is_changed&&await o())}const S=({order:e})=>a.jsxs(f,{className:"whitespace-nowrap",children:[a.jsx(t,{children:e.order_id}),a.jsx(t,{children:e.username}),a.jsxs(t,{children:[a.jsx("span",{children:e.amount}),a.jsx("span",{className:"text-[12px] text-secondary",children:h})]}),a.jsx(t,{children:a.jsxs(i,{variant:"outline",children:[a.jsx(F,{type:e.type,className:"h-5 w-5 mr-1.5"}),s(`payment.${e.type}`)]})}),a.jsx(t,{children:a.jsxs(i,{variant:"outline",children:[a.jsx(ea,{className:"h-4 w-4 mr-1"}),e.device]})}),a.jsx(t,{children:a.jsx(i,{children:s(`admin.pay.${e.service}`)})}),a.jsx(t,{children:a.jsx(i,{variant:e.state?"default":"outline",children:a.jsx(B,{icon:e.state?a.jsx(L,{}):a.jsx(O,{}),className:"h-4 w-4 p-0.5"})})}),a.jsx(t,{children:e.created_at}),a.jsx(t,{children:e.updated_at}),a.jsx(t,{children:a.jsxs($,{children:[a.jsx(z,{asChild:!0,children:a.jsx(j,{size:"icon",variant:"outline",className:"mr-2",children:a.jsx(Y,{className:"h-4 w-4"})})}),a.jsxs(J,{align:"end",children:[a.jsxs(y,{onClick:()=>C(e.order_id),children:[a.jsx(V,{className:"h-4 w-4 mr-1.5"}),s("admin.pay.copy-order")]}),a.jsxs(y,{onClick:()=>v(e),children:[a.jsx(na,{className:"h-4 w-4 mr-1.5"}),s("admin.pay.check-order")]})]})]})})]});return E(o,[p]),a.jsxs(ta,{title:"payment",pro:!0,children:[a.jsxs("div",{className:"flex flex-row items-center mb-2",children:[a.jsx(H,{value:x,onChange:e=>b(e.target.value),placeholder:s("admin.pay.search"),onKeyUp:e=>e.key==="Enter"&&o()}),a.jsx(j,{onClick:o,size:"icon",disabled:r,className:"ml-2 shrink-0",children:r?a.jsx(A,{className:"h-4 w-4 animate-spin"}):a.jsx(R,{className:"h-4 w-4"})})]}),l.data&&l.data.length>0?a.jsxs(U,{children:[a.jsx(W,{children:a.jsxs(f,{className:"select-none whitespace-nowrap",children:[a.jsxs(n,{className:"flex flex-row items-center",children:[a.jsx(Q,{className:"h-4 w-4 mr-1"}),s("admin.pay.order")]}),a.jsx(n,{children:s("admin.pay.username")}),a.jsx(n,{children:s("admin.pay.amount")}),a.jsx(n,{children:s("admin.pay.type")}),a.jsx(n,{children:s("admin.pay.device")}),a.jsx(n,{children:s("admin.pay.service")}),a.jsx(n,{children:s("admin.pay.status")}),a.jsx(n,{children:s("admin.pay.created-at")}),a.jsx(n,{children:s("admin.pay.updated-at")}),a.jsx(n,{children:s("admin.pay.action")})]})}),a.jsx(X,{children:(l.data||[]).map((e,c)=>a.jsx(S,{order:e},c))})]}):a.jsx("div",{className:"text-center mt-16 mb-12 text-secondary select-none",children:s("empty")}),a.jsx(Z,{current:p,total:l.total,onPageChange:g,offset:!0})]})}export{pa as default};
