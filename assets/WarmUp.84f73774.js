import{u as f,aR as p,r as l,bG as w,j as s,bR as g,bS as j,bT as N,bs as v,e5 as C,cn as y,bV as b,cP as R,a5 as o,I as $,ac as k,e6 as M,aW as S,d0 as O,e7 as T,aL as E}from"./index.59694a49.js";import{M as L}from"./minus.dba63f79.js";function W(){const a=[location.origin];if(location.hostname.split(".").length===2){const r=/^(http|https):\/\/(www\.)?/i;a.push(location.origin.replace(r,"$1://www."))}if(location.hostname.split(".").length===3){const r=/^(http|https):\/\/(www\.)?/i;a.push(location.origin.replace(r,"$1://"))}return a}function D(){const{t:a}=f(),r=p(),[u,m]=l.useState(!1),[i,x]=l.useState([]),[e,c]=l.useState(W()),d=l.useMemo(()=>e.map(t=>i.map(n=>t.endsWith("/")?`${t}${n}`:`${t}/${n}`).join(`
`)).join(`
`),[i,e]);return w(async()=>{m(!0);const t=await T();m(!1),E(a,t),t.data&&x(Object.values(t.data).map(n=>n.file).filter(n=>n))},[]),s.jsx("div",{className:"system",children:s.jsxs(g,{className:"admin-card system-card",children:[s.jsxs(j,{children:[s.jsxs(N,{className:"flex w-full flex-row flex-wrap items-center",children:[a("admin.cdn.warmup"),s.jsxs(v,{className:"ml-auto",children:["for v",C]})]}),s.jsx(y,{className:"mt-4",children:a("admin.cdn.warm-tip")})]}),s.jsxs(b,{children:[u&&s.jsxs("div",{className:"flex flex-row items-center mb-1",children:[s.jsx(R,{className:"w-4 h-4 mr-1 animate-spin"}),a("loading")]}),s.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[e.map((t,n)=>s.jsxs("div",{className:"inline-flex flex-row items-center w-full h-fit",children:[s.jsx(o,{size:"icon",variant:"outline",className:"shrink-0 mr-1",onClick:()=>{e.splice(n,1),c([...e])},children:s.jsx(L,{className:"w-4 h-4"})}),s.jsx($,{className:"grow",value:t,onChange:h=>{e[n]=h.target.value,c([...e])}})]})),s.jsx(o,{size:"icon",variant:"outline",onClick:()=>{e.push(""),c([...e])},children:s.jsx(k,{className:"w-4 h-4"})})]}),s.jsx(M,{className:"my-4"}),s.jsx("div",{className:"flex flex-row items-center",children:s.jsxs(o,{variant:"outline",onClick:()=>r(d),className:"mb-2 flex flex-row items-center",children:[s.jsx(S,{className:"w-3.5 h-3.5 mr-1"}),a("admin.cdn.copy-data")]})}),s.jsx(O,{rows:10,readOnly:!0,value:d}),s.jsxs("p",{className:"text-sm mt-1 text-right text-secondary",children:[i.length*e.length," resources total (",i.length," resources x ",e.length," origins)"]})]})]})})}export{D as default};
